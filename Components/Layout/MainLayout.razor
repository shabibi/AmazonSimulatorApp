@inherits LayoutComponentBase
@inject NavigationManager Navigation
@* Required *@
<MudThemeProvider />
<MudPopoverProvider />

@* Needed for dialogs *@
<MudDialogProvider />

@* Needed for snackbars *@
<MudSnackbarProvider />

<div class="page" style="display: flex; flex-direction: column; height: 100vh;">
    <!-- Top Section with Search Bar and Buttons -->
    <div style="flex: 0 0 auto; display: flex; justify-content: space-between; align-items: center; padding: 16px; background-color: #f5f5f5; box-shadow: 0px 2px 4px rgba(0,0,0,0.1);">
        <!-- Search Bar -->
        <MudTextField T="string" Placeholder="Search..." Adornment="Adornment.Start" AdornmentIcon="@Icons.Material.Filled.Search" Class="mx-2" />

        <!-- Sign-In and Sign-Out Buttons -->
        <div style="display: flex; gap: 8px;">
            <MudButton Variant="Variant.Outlined" Color="Color.Primary" OnClick="@(() => Navigation.NavigateTo("/signin"))">Sign In</MudButton>
            <MudButton Variant="Variant.Outlined" Color="Color.Secondary" OnClick="@(() => Navigation.NavigateTo("/signup"))">
                Sign Up
            </MudButton>
        </div>
    </div>

    <!-- Carousel Section -->
    <div style="flex: 0 0 30%; display: flex; justify-content: center; align-items: center; background-color: #f0f0f0;">
        <MudCarousel Class="mud-width-full" Style="height: 100%;"
                     ShowArrows="@arrows" ShowBullets="@bullets"
                     EnableSwipeGesture="@enableSwipeGesture" AutoCycle="@autocycle" TData="object">
            <MudCarouselItem Transition="transition" Color="@Color.Primary">
                <div class="d-flex" style="height: 100%;">
                    <MudIcon Class="mx-auto my-auto" Icon="@Icons.Custom.Brands.MudBlazor" Size="@Size.Large" />
                </div>
            </MudCarouselItem>
            <MudCarouselItem Transition="transition" Color="@Color.Secondary">
                <div class="d-flex" style="height: 100%;">
                    <MudIcon Class="mx-auto my-auto" Icon="@Icons.Custom.Brands.MudBlazor" Size="@Size.Large" />
                </div>
            </MudCarouselItem>
            <MudCarouselItem Transition="transition">
                <div class="d-flex" style="height: 100%;">
                    <MudIcon Class="mx-auto my-auto" Icon="@Icons.Custom.Brands.MudBlazor" Color="@Color.Primary" Size="@Size.Large" />
                </div>
            </MudCarouselItem>
        </MudCarousel>
    </div>

    <!-- Bottom Section -->
    <div style="flex: 1; display: flex; overflow: hidden;">
        <!-- Navigation Bar -->
        <nav style="flex: 0 0 250px; background-color: #f5f5f5; padding: 16px; box-shadow: 2px 0 4px rgba(0,0,0,0.1); overflow-y: auto;">
            <MudNavMenu>
                <MudNavLink Href="/" Match="NavLinkMatch.All">Home</MudNavLink>
                <MudNavLink Href="/Category" Match="NavLinkMatch.Prefix">Category</MudNavLink>
               <MudNavLink Href="/users" Match="NavLinkMatch.Prefix">Cart</MudNavLink>
        
                <MudNavLink Href="/about" Match="NavLinkMatch.Prefix">Sign Out</MudNavLink>
            </MudNavMenu>
        </nav>

        <!-- Main Content -->
        <main style="flex: 1; padding: 16px; overflow-y: auto;">
            <article class="content px-4">
                @Body
            </article>
        </main>
    </div>
</div>

<div id="blazor-error-ui">
    An unhandled error has occurred.
    <a href="" class="reload">Reload</a>
    <a class="dismiss">🗙</a>
</div>

@code {
    private bool arrows = true;
    private bool bullets = true;
    private bool enableSwipeGesture = true;
    private bool autocycle = true;
    private Transition transition = Transition.Slide;

    private void SignIn()
    {
        // Add sign-in logic here
    }

    private void SignOut()
    {
        // Add sign-out logic here
    }
}
